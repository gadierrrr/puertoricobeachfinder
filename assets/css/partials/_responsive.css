/* ========================================
   SEARCHABLE SELECT (Tom Select compatible)
   ======================================== */

.ts-wrapper {
    width: 100%;
}

.ts-control {
    padding: 0.5rem 0.75rem;
    border: 1px solid var(--color-gray-300);
    border-radius: 0.5rem;
    background: var(--color-surface);
}

.ts-control:focus-within {
    border-color: var(--color-primary);
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.ts-dropdown {
    border: 1px solid var(--color-gray-200);
    border-radius: 0.5rem;
    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
    margin-top: 0.25rem;
}

.ts-dropdown .option {
    padding: 0.625rem 0.75rem;
}

.ts-dropdown .option.active {
    background: var(--color-primary-light);
    color: var(--color-primary-dark);
}

/* ========================================
   BEACH DETAIL PAGE LAYOUT (Option A + D)
   ======================================== */

/* Base layout - flex column for all screen sizes */
.beach-layout {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

/* Desktop: CSS Grid with 2 columns */
@media (min-width: 1024px) {
    .beach-layout {
        display: grid;
        grid-template-columns: 2fr 1fr;
        gap: 2rem;
        align-items: start;
    }

    /* Main column items */
    .bl-quick-info,
    .bl-tags,
    .bl-quick-facts,
    .bl-description,
    .bl-highlights,
    .bl-tips,
    .bl-gallery,
    .bl-user-photos,
    .bl-reviews,
    .bl-similar {
        grid-column: 1;
    }

    /* Sidebar items */
    .bl-weather,
    .bl-conditions,
    .bl-crowd,
    .bl-amenities,
    .bl-practical,
    .bl-map {
        grid-column: 2;
    }

    /* Hide sticky bar on desktop */
    .beach-sticky-bar {
        display: none;
    }
}

/* Mobile: Reorder sections using flexbox order */
@media (max-width: 1023px) {
    .beach-layout {
        padding-bottom: 5rem; /* Space for sticky bar */
    }

    /* Optimal mobile content order */
    .bl-quick-info  { order: 1; }
    .bl-weather     { order: 2; }
    .bl-conditions  { order: 3; }
    .bl-crowd       { order: 4; }
    .bl-tags        { order: 5; }
    .bl-quick-facts { order: 6; }
    .bl-amenities   { order: 7; }
    .bl-description { order: 8; }
    .bl-highlights  { order: 9; }
    .bl-tips        { order: 10; }
    .bl-practical   { order: 11; }
    .bl-gallery     { order: 12; }
    .bl-user-photos { order: 13; }
    .bl-reviews     { order: 14; }
    .bl-similar     { order: 15; }
    .bl-map         { order: 16; }

    /* Hide empty sections */
    .bl-tags:empty,
    .bl-description:empty,
    .bl-highlights:empty,
    .bl-tips:empty,
    .bl-gallery:empty,
    .bl-conditions:empty,
    .bl-amenities:empty {
        display: none;
    }
}

/* ========================================
   STICKY QUICK ACTIONS BAR (Option D)
   ======================================== */

.beach-sticky-bar {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: var(--z-drawer);
    background: rgba(19, 32, 36, 0.95);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    padding: 0.625rem 1rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 0.5rem;
}

.sticky-weather,
.sticky-crowd {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    flex: 1;
    min-width: 0;
}

.sticky-icon {
    font-size: 1.25rem;
    flex-shrink: 0;
}

.sticky-text {
    display: flex;
    flex-direction: column;
    line-height: 1.2;
    min-width: 0;
}

.sticky-value {
    font-weight: 600;
    color: white;
    font-size: 0.8125rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.sticky-label {
    font-size: 0.625rem;
    color: rgba(255, 255, 255, 0.5);
    text-transform: uppercase;
    letter-spacing: 0.025em;
}

/* Crowd level color variations */
.sticky-crowd-green .sticky-value { color: #10b981; }
.sticky-crowd-yellow .sticky-value { color: #f59e0b; }
.sticky-crowd-orange .sticky-value { color: #f97316; }
.sticky-crowd-red .sticky-value { color: #ef4444; }

.sticky-directions {
    display: flex;
    align-items: center;
    gap: 0.375rem;
    background: var(--color-accent);
    color: var(--color-bg-secondary);
    padding: 0.625rem 1rem;
    border-radius: 0.5rem;
    font-weight: 600;
    font-size: 0.8125rem;
    white-space: nowrap;
    flex-shrink: 0;
    transition: background-color 0.2s ease;
}

.sticky-directions:hover {
    background: #fde047;
}

.sticky-directions svg,
.sticky-directions i {
    width: 1rem;
    height: 1rem;
}

/* Very narrow screens - simplify sticky bar */
@media (max-width: 360px) {
    .sticky-weather,
    .sticky-crowd {
        gap: 0.375rem;
    }

    .sticky-icon {
        font-size: 1rem;
    }

    .sticky-value {
        font-size: 0.75rem;
    }

    .sticky-label {
        display: none;
    }

    .sticky-directions {
        padding: 0.5rem 0.75rem;
    }

    .sticky-directions span {
        display: none;
    }
}

/* ========================================
   HERO SECTION MOBILE
   ======================================== */

@media (max-width: 640px) {
    /* Hero category cards - smaller on mobile */
    .hero-category-card {
        min-height: 85px;
        padding: 0.875rem;
    }

    /* Search autocomplete on mobile */
    #search-autocomplete {
        position: fixed;
        left: 1rem;
        right: 1rem;
        top: auto;
        bottom: auto;
        margin-top: 0.5rem;
        max-height: 50vh;
        overflow-y: auto;
    }

    /* Hide extra trust bar items */
    .trust-bar-extra {
        display: none;
    }
}

/* ========================================
   PROFILE PAGE MOBILE
   ======================================== */

/* Required HTML classes: .profile-header-content, .profile-stats, .profile-stat,
   .review-item, .review-item-content, .review-item-image, .checkin-item, .checkin-item-image */
@media (max-width: 640px) {
    /* Profile header mobile */
    .profile-header .profile-header-content {
        text-align: center;
    }

    /* Stats grid on mobile */
    .profile-stats {
        gap: 1rem;
    }

    .profile-stats .profile-stat {
        min-width: 4rem;
    }

    /* Profile tabs - horizontal scroll */
    nav[role="tablist"] {
        scrollbar-width: none;
        -ms-overflow-style: none;
    }

    nav[role="tablist"]::-webkit-scrollbar {
        display: none;
    }

    nav[role="tablist"] a {
        padding: 0.75rem 1rem;
        font-size: 0.8125rem;
    }

    /* Reviews list on mobile */
    .review-item .review-item-content {
        flex-direction: column;
        gap: 0.75rem;
    }

    .review-item .review-item-image {
        width: 100%;
        height: auto;
        aspect-ratio: 16/9;
    }

    /* Check-ins list mobile */
    .checkin-item .checkin-item-content {
        gap: 0.75rem;
    }

    .checkin-item .checkin-item-image {
        width: 3rem;
        height: 3rem;
    }
}

/* ========================================
   BEACH DETAIL PAGE MOBILE
   ======================================== */

/* Required HTML classes: .beach-hero, .beach-hero-overlay, .beach-sidebar, .beach-main */
@media (max-width: 640px) {
    /* Hero height on mobile */
    .beach-hero {
        height: 14rem;
    }

    /* Hero overlay text */
    .beach-hero .beach-hero-overlay {
        padding: 1rem;
    }

    .beach-hero h1 {
        font-size: 1.5rem;
    }

    /* Action buttons on beach detail */
    .beach-actions {
        flex-wrap: wrap;
        gap: 0.5rem;
    }

    .beach-actions button,
    .beach-actions a {
        flex: 1 1 calc(50% - 0.25rem);
        min-width: 0;
        justify-content: center;
        padding: 0.625rem 0.75rem;
        font-size: 0.875rem;
    }

    /* Conditions grid */
    .conditions-grid {
        grid-template-columns: 1fr;
    }

    /* Gallery grid on mobile */
    .gallery-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 0.375rem;
    }

    /* Reviews section */
    .review-card {
        padding: 1rem;
    }

    .review-card .review-card-content {
        gap: 0.75rem;
    }

    /* Sidebar content on mobile - stack full width */
    .beach-sidebar {
        order: 2;
    }

    .beach-main {
        order: 1;
    }
}

/* ========================================
   GENERAL MOBILE TYPOGRAPHY
   ======================================== */

@media (max-width: 640px) {
    /* Reduce heading sizes on mobile */
    h1 {
        font-size: 1.5rem;
    }

    h2 {
        font-size: 1.25rem;
    }

    h3 {
        font-size: 1.125rem;
    }

    /* Ensure body text is readable */
    body {
        font-size: 1rem;
        line-height: 1.6;
    }

    /* Reduce padding on containers - use .container-padding class */
    .container-padding {
        padding-left: 1rem;
        padding-right: 1rem;
    }
}

/* ========================================
   NAVBAR SCROLL STATE
   ======================================== */

#main-nav.scrolled {
    background-color: rgba(19, 32, 36, 0.9);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.2);
}

/* ========================================
   HERO FILTER PILLS - ICON ALIGNMENT
   ======================================== */

/* Ensure SVG icons in filter pills are vertically centered */
.inline-flex svg,
.inline-flex i {
    display: block;
    vertical-align: middle;
}

/* ========================================
   MOBILE NAVIGATION FIXES
   ======================================== */

/* Required HTML classes: .nav-inner, .mobile-menu-content */
@media (max-width: 640px) {
    /* Ensure nav items don't overflow */
    #main-nav .nav-inner {
        padding-left: 0.75rem;
        padding-right: 0.75rem;
    }

    /* Mobile menu spacing */
    #mobile-menu .mobile-menu-content {
        padding: 1rem;
    }

    #mobile-menu a {
        padding: 0.75rem 0.5rem;
        font-size: 1rem;
    }
}

/* ========================================
   PWA INSTALL BANNER MOBILE
   ======================================== */

@media (max-width: 640px) {
    #pwa-install-banner {
        left: 0.5rem;
        right: 0.5rem;
        bottom: 0.5rem;
        padding: 0.875rem;
    }

    #pwa-install-banner img {
        width: 2.5rem;
        height: 2.5rem;
    }

    #pwa-install-banner h3 {
        font-size: 0.9375rem;
    }

    #pwa-install-banner p {
        font-size: 0.8125rem;
    }

    #pwa-install-banner .pwa-banner-actions {
        flex-direction: column;
        gap: 0.5rem;
    }

    #pwa-install-banner button {
        width: 100%;
    }
}

/* ========================================
   QUICK FACTS CARDS MOBILE
   ======================================== */

/* Required HTML classes: .quick-facts-grid, .quick-fact-card, .quick-fact-content,
   .quick-fact-value, .quick-fact-subtext */

/* Desktop: truncate text to keep cards compact */
@media (min-width: 641px) {
    .quick-fact-value,
    .quick-fact-subtext {
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }
}

/* Tablet/larger mobile: 2 columns with wrapped text */
@media (min-width: 400px) and (max-width: 640px) {
    .quick-facts-grid {
        gap: 0.5rem;
    }

    .quick-fact-card {
        padding: 0.75rem;
        gap: 0.75rem;
    }

    .quick-fact-value,
    .quick-fact-subtext {
        white-space: normal;
        word-wrap: break-word;
    }

    .quick-fact-value {
        font-size: 0.875rem;
        line-height: 1.3;
    }

    .quick-fact-subtext {
        font-size: 0.75rem;
        line-height: 1.3;
    }
}

/* Small mobile: single column, full width cards */
@media (max-width: 399px) {
    .quick-facts-grid {
        grid-template-columns: 1fr;
        gap: 0.5rem;
    }

    .quick-fact-card {
        padding: 0.875rem;
        gap: 0.75rem;
    }

    .quick-fact-value,
    .quick-fact-subtext {
        white-space: normal;
        word-wrap: break-word;
    }

    .quick-fact-value {
        font-size: 0.9375rem;
        line-height: 1.4;
    }

    .quick-fact-subtext {
        font-size: 0.8125rem;
        line-height: 1.4;
    }

    /* Slightly smaller icon box on mobile */
    .quick-fact-card .icon-box {
        padding: 0.5rem;
    }

    .quick-fact-card .icon-box svg,
    .quick-fact-card .icon-box i {
        width: 1.125rem;
        height: 1.125rem;
    }
}

/* ========================================
   COMPARE PAGE MOBILE
   ======================================== */

/* Required HTML classes: .compare-grid, .compare-actions */
@media (max-width: 640px) {
    /* Add beach name labels on mobile stacked view */
    .compare-grid > div {
        position: relative;
    }

    /* Ensure proper spacing between stacked items */
    .compare-grid.divide-y > div:first-child {
        padding-top: 1rem;
    }

    /* Actions section - stack buttons vertically */
    .compare-actions > div {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
    }

    .compare-actions a,
    .compare-actions button {
        width: 100%;
        text-align: center;
    }
}

/* ========================================
   BEACH DRAWER MOBILE
   ======================================== */

/* Required HTML classes: .drawer-badges, .drawer-safety-grid, .drawer-info-grid */
@media (max-width: 640px) {
    /* Badges row - smaller padding, better wrapping */
    .drawer-badges {
        gap: 0.375rem;
    }

    .drawer-badges > div,
    .drawer-badges > span {
        padding: 0.25rem 0.5rem;
        font-size: 0.75rem;
    }

    /* Safety grid - single column on very small screens */
    .drawer-safety-grid {
        grid-template-columns: 1fr;
    }

    /* Info grid inherits sm:grid-cols-2 from Tailwind */
}

/* Extra small screens (< 400px) */
@media (max-width: 400px) {
    .drawer-badges > div,
    .drawer-badges > span {
        padding: 0.1875rem 0.375rem;
        font-size: 0.6875rem;
    }

    /* Truncate long badge text */
    .drawer-badges span {
        max-width: 100%;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }
}

/* ========================================
   BEACH CARD MOBILE
   ======================================== */

/* Required HTML classes: .card-actions */
@media (max-width: 380px) {
    /* Stack card action buttons on very narrow screens */
    .card-actions {
        flex-direction: column;
    }

    .card-actions > button,
    .card-actions > a {
        width: 100%;
        justify-content: center;
    }

    /* Make the Details button full width, icons in a row below */
    .card-actions > button:first-child,
    .card-actions > a:first-child {
        order: -1;
    }

    /* Group icon buttons in a row */
    .card-actions {
        display: grid;
        grid-template-columns: 1fr;
        gap: 0.5rem;
    }

    .card-actions > button:not(:first-child),
    .card-actions > a:not(:first-child) {
        width: auto;
    }
}

/* Alternative: wrap icon buttons on medium-small screens */
@media (min-width: 381px) and (max-width: 480px) {
    .card-actions {
        flex-wrap: wrap;
    }

    /* Details button takes full width */
    .card-actions > button:first-child,
    .card-actions > a:first-child {
        flex: 1 1 100%;
        order: 1;
    }

    /* Icon buttons share a row */
    .card-actions > button:not(:first-child),
    .card-actions > a:not(:first-child) {
        flex: 1 1 auto;
        order: 2;
    }
}

/* ========================================
   WEATHER WIDGET MOBILE
   ======================================== */

/* Required HTML classes: .weather-conditions-grid */
@media (max-width: 400px) {
    .weather-conditions-grid {
        gap: 0.375rem;
    }

    .weather-conditions-grid > div {
        padding: 0.5rem;
    }

    .weather-conditions-grid .text-2xl {
        font-size: 1.25rem;
    }

    .weather-conditions-grid .text-sm {
        font-size: 0.75rem;
    }

    .weather-conditions-grid .text-xs {
        font-size: 0.625rem;
    }
}

/* ========================================
   MOBILE SELECT DROPDOWN FIX
   ======================================== */

/* Fix for mobile select dropdowns - ensure text is visible in native pickers */
@media (max-width: 768px) {
    /* Mobile selects in filter drawer need dark text for native iOS/Android pickers */
    #mobile-municipality-filter,
    #mobile-sort-filter,
    select.mobile-select {
        /* Native mobile pickers ignore most CSS - use system defaults */
        color: white;
        background-color: rgba(255, 255, 255, 0.05);
    }

    /* Option text - black for native pickers, white for non-native */
    #mobile-municipality-filter option,
    #mobile-sort-filter option,
    select.mobile-select option {
        color: #1a1a1a;
        background-color: white;
    }

    /* Ensure the select arrow is visible */
    #filter-drawer select {
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='m6 9 6 6 6-6'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: right 0.75rem center;
        background-size: 1rem;
        padding-right: 2.5rem;
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
    }
}

/* ========================================
   GUIDE PAGES MOBILE
   ======================================== */

@media (max-width: 640px) {
    /* Guide layout - full width */
    .guide-layout {
        padding: 1.5rem 1rem;
        gap: 1.5rem;
    }

    /* Guide article - reduced padding */
    .guide-article {
        padding: 1.5rem !important;
    }

    /* Related guides - stack on mobile */
    .related-guides-grid {
        grid-template-columns: 1fr;
        gap: 0.75rem;
    }

    /* Checklist items - tighter spacing */
    .checklist-item {
        font-size: 0.9375rem;
        padding-left: 1.75rem;
        margin-bottom: 0.375rem;
    }

    .checklist-item:before {
        font-size: 1.125rem;
    }
}

/* ========================================
   PRINT STYLES
   ======================================== */

@media print {
    nav, footer, .filters-container, button, .drawer-overlay, .share-modal, .toast-container {
        display: none !important;
    }

    .beach-card {
        break-inside: avoid;
        page-break-inside: avoid;
        box-shadow: none;
        border: 1px solid var(--color-gray-200);
    }
}

